{% extends 'base.html' %}

{% block content %}   

{% load crispy_forms_tags %}

<br>
<br>
<div class="row">
    <div class="col-12 col-md-8 offset-md-2">
        <div class="card shadow p-3 mb-5 bg-body-tertiary rounded ">
            <div class="card-header">
                <h1 class="text-center">TAREAS PENDIENTES</h1>
            </div>
            <div id='calendar' class="container"></div>

            



        <!--  <div class="card-body bg-body-secondary">

                <ul>
                    {% for tarea in tareas %}

                    <li>
                        <a href="{% url 'tarea_detalle' tarea.id %}">
                            {% if tarea.importante %}
                                <h3>{{tarea.titulo}}</h3>
                            {% else %}
                                <h5>{{tarea.titulo}}</h5>
                            {% endif %}
            
                        </a>
                        <p>{{tarea.descripcion}}</p>
                        <p>{{tarea.user.username}}</p>
                    </li>
            
                    {% endfor %}
                </ul>

            </div>      -->  

        </div>
        
    </div>
    
    

    <script>

        document.addEventListener('DOMContentLoaded', function() {
          var calendarEl = document.getElementById('calendar');
          var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
            },
            navLinks: true, // can click day/week names to navigate views
            businessHours: true, // display business hours
            editable: true,
            selectable: true,
            events: [
                {% for tarea in tareas %}

                    {
                        title: '{{tarea.titulo}}',
                    },
                {%endfor%}
            ]
          });
          calendar.render();
          calendar.setOption('locale', 'es');
        });
  
      </script>
</div>         







{% endblock %}